"use strict";window.jQuery.each(Waypoint.adapters,function(e,t){describe(t.name+" adapter:",function(){describe("Waypoint.Context",function(){function e(e){n=e}var n,o,r,i,s,c,a=window.jQuery;beforeEach(function(){Waypoint.Adapter=t.Adapter,loadFixtures("standard.html"),o=a(window),n=null,c=!1,i=a("#same1"),r=new Waypoint({element:i[0],handler:e}),s=r.context}),afterEach(function(){c||r.destroy(),o.scrollTop(0).scrollLeft(0)}),describe("#refresh",function(){it("updates trigger point of waypoints",function(){var e=i.offset().top;i.css({top:e+1}),s.refresh(),expect(r.triggerPoint).toEqual(e+1)}),it("triggers down direction if waypoint crosses upwards",function(){i.css("top","-1px"),s.refresh(),expect(n).toEqual("down")}),it("triggers up direction if waypoint crosses downwards",function(){i.css("top","-1px"),s.refresh(),i.css("top","0px"),s.refresh(),expect(n).toEqual("up")}),it("returns the same context instance for chaining",function(){expect(s.refresh()).toEqual(s)})}),describe("#destroy",function(){it("prevents further waypoint triggers",function(){c=!0,s.destroy(),o.scrollTop(i.offset().top),expect(n).toBeNull()}),it("removes context from global lookup",function(){c=!0,s.destroy(),expect(Waypoint.Context.findByElement(window)).toBeFalsy()})}),describe("Waypoint.Context.refreshAll()",function(){it("calls refresh on all contexts",function(){var e=new Waypoint({element:a("#inner3")[0],context:a("#bottom")[0],handler:function(){}}),t=e.context;spyOn(s,"refresh"),spyOn(t,"refresh"),Waypoint.Context.refreshAll(),expect(s.refresh).toHaveBeenCalled(),expect(t.refresh).toHaveBeenCalled(),e.destroy()})})})})});