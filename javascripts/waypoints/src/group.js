!function(){"use strict";function t(t,i){return t.triggerPoint-i.triggerPoint}function i(t,i){return i.triggerPoint-t.triggerPoint}function r(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},e=window.Waypoint;r.prototype.add=function(t){this.waypoints.push(t)},r.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},r.prototype.flushTriggers=function(){for(var r in this.triggerQueues){var n=this.triggerQueues[r],e="up"===r||"left"===r;n.sort(e?i:t);for(var s=0,o=n.length;s<o;s+=1){var u=n[s];(u.options.continuous||s===n.length-1)&&u.trigger([r])}}this.clearTriggerQueues()},r.prototype.next=function(i){this.waypoints.sort(t);var r=e.Adapter.inArray(i,this.waypoints),n=r===this.waypoints.length-1;return n?null:this.waypoints[r+1]},r.prototype.previous=function(i){this.waypoints.sort(t);var r=e.Adapter.inArray(i,this.waypoints);return r?this.waypoints[r-1]:null},r.prototype.queueTrigger=function(t,i){this.triggerQueues[i].push(t)},r.prototype.remove=function(t){var i=e.Adapter.inArray(t,this.waypoints);i>-1&&this.waypoints.splice(i,1)},r.prototype.first=function(){return this.waypoints[0]},r.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},r.findOrCreate=function(t){return n[t.axis][t.name]||new r(t)},e.Group=r}();